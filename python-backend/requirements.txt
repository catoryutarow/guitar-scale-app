# ============================================
# Phase 3: FastAPI バックエンド 基本パッケージ
# ============================================

# FastAPI framework
fastapi==0.104.1

# ASGI server
uvicorn[standard]==0.24.0

# Data validation
pydantic==2.5.0

# CORS middleware
python-multipart==0.0.6

# ============================================
# Phase 4: 音源解析ライブラリ（librosa ベース）
# ============================================

# 音源処理・特徴量抽出
librosa==0.10.1
soundfile==0.12.1
numpy>=1.26,<1.27
scipy>=1.10,<1.12  # librosa/essentia互換性

# stem 分解（音源分離）
# demucs==4.0.1
# torch==2.1.0
# torchaudio==2.1.0

# コード解析（Essentia - 高精度キー検出・コード認識）
# Note: EssentiaはPython 3.11との互換性問題があるため一時的に無効化
# 将来的にEssentia 2.1b6以降で修正される予定
# essentia>=2.1b5; sys_platform == 'linux'

# その他ユーティリティ
python-dotenv==1.0.0
requests==2.31.0

# ============================================
# 開発・テスト用（オプション）
# ============================================

# pytest==7.4.3
# httpx==0.25.2
